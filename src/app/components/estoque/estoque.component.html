<div class="container">
  <div class="mb-4">
    <list-control
      title="Estoque"
      iconText="boxes"
      btnText="Criar estoque"
      (open)="onOpenForm($event)"
    ></list-control>
  </div>
  <div class="content container p-0">
    @if (isFormOpened && isStockFormOpened) {
    <stock-form (close)="closeForm()" (save)="onSaveStock($event)"></stock-form>

    } @if (isFormOpened && isStockItemFormOpened) {
      <stock-item-form [formStockName]="formStockName" [stockToAdd]="stockToAdd" (close)="closeForm()" (save)="onSaveStockItem($event)"></stock-item-form>

    } @if (!isFormOpened) {
    <div
      class="btn-group b d-flex w-50 m-auto mb-4"
      role="group"
      aria-label="Basic example"
    >
      <button
        type="button"
        (click)="changeViewType()"
        class="btn w-50"
        [ngClass]="{ active: listViewType === 'stocks' }"
      >
        Estoques
      </button>
      <button
        type="button"
        (click)="changeViewType()"
        class="btn w-50"
        [ngClass]="{ active: listViewType === 'movements' }"
      >
        Movimentos
      </button>
    </div>
    } @if (listViewType === 'stocks') {
    <div *ngIf="stocks$ | async as stocks">
      <stock-list [stocks]="stocks" (openForm)="onOpenStockItemForm($event)"></stock-list>
    </div>

    } @if (listViewType === 'movements') {
    <stock-movement-list></stock-movement-list>
    }
  </div>
</div>
<div class="toast-container position-fixed bottom-0 end-0 p-3">
  <div id="successToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header  text-white fw-semibold">
      Mensagem do sistema
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body fw-semibold">
      {{toastBodyText}}
    </div>
  </div>
  <div id="errorToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="toast-header  text-white fw-semibold">
      Mensagem do sistema
      <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
    <div class="toast-body fw-semibold">
      {{toastBodyText}}
    </div>
  </div>
</div>
